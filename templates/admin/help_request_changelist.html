{% extends "admin/change_list.html" %}
{% block content %}
<style>
  .stats-container {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    align-items: flex-start;
    margin-bottom: 30px;
  }

  .stats-card {
    background: linear-gradient(135deg, #f7fafc, #edf2f7);
    border: 1px solid #d1d5db;
    border-radius: 12px;
    padding: 20px 25px;
    flex: 1;
    min-width: 280px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }

  .stats-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
  }

  .stats-card h2 {
    font-size: 22px;
    margin-bottom: 10px;
    color: #1a365d;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .stats-card h2::before {
    content: "üìä";
    font-size: 22px;
  }

  .stats-list {
    line-height: 1.8;
    font-size: 15px;
    color: #2d3748;
  }

  .category-table-container {
    flex: 2;
  }

  .category-table-container h3 {
    font-size: 20px;
    margin-bottom: 12px;
    color: #2b6cb0;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .category-table-container h3::before {
    content: "üìÇ";
    font-size: 22px;
  }

  table.stats-table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid #cbd5e0;
    border-radius: 8px;
    overflow: hidden;
  }

  table.stats-table th {
    background: #ebf8ff;
    color: #2b6cb0;
    text-align: left;
    font-weight: 700;
    padding: 10px 12px;
    border-bottom: 2px solid #cbd5e0;
  }

  table.stats-table td {
    padding: 10px 12px;
    border-bottom: 1px solid #e2e8f0;
    font-size: 15px;
  }

  table.stats-table tr:hover td {
    background-color: #f7fafc;
  }

  .total-highlight {
    font-weight: bold;
    color: #1a202c;
  }

  @media (max-width: 768px) {
    .stats-container {
      flex-direction: column;
    }
  }
</style>

<div class="stats-container">
  <div class="stats-card">
    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º</h2>
    <div class="stats-list">
      <p><strong>–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫:</strong> {{ summary.total }}</p>
      <p><strong>–ü–æ–ª—É—á–∞–ª–∏ –ø–æ–º–æ—â—å —Ä–∞–Ω–µ–µ:</strong> {{ summary.received }}</p>
      <p><strong>–ù–µ –ø–æ–ª—É—á–∞–ª–∏ –ø–æ–º–æ—â—å —Ä–∞–Ω–µ–µ:</strong> {{ summary.not_received }}</p>
    </div>
  </div>

  <div class="category-table-container">
    <h3>–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
    <table class="stats-table">
      <thead>
        <tr>
          <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
          <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫</th>
        </tr>
      </thead>
      <tbody>
        {% for c in summary.categories %}
        <tr>
          <td>{{ c.help_category__title|default:"‚Äî" }}</td>
          <td class="total-highlight">{{ c.total }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="2" style="text-align:center;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{{ block.super }}
{% endblock %}